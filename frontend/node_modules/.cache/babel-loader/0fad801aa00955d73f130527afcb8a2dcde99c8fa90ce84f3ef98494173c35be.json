{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kashif\\\\Desktop\\\\MindMaidbetaFresh\\\\frontend\\\\src\\\\Component\\\\EmotionDrivenDashboard.js\",\n  _s = $RefreshSig$();\n// frontend/src/EmotionDrivenDashboard.js\nimport React, { useRef, useState, useEffect } from \"react\";\n\n// Dynamically select API and WS URLs based on environment\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_API_URL_PROD || process.env.REACT_APP_API_URL : process.env.REACT_APP_API_URL;\nconst WS_URL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_WS_URL_PROD || process.env.REACT_APP_WS_URL : process.env.REACT_APP_WS_URL;\nexport default function EmotionDrivenDashboard() {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const wsRef = useRef(null);\n  const frameIntervalRef = useRef(null);\n  const lastEmotionRef = useRef(null);\n  const userLocationRef = useRef(null);\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [fps, setFps] = useState(Number(process.env.REACT_APP_DEFAULT_FPS) || 4);\n  const [currentEmotion, setCurrentEmotion] = useState(null);\n  const [emotionHistory, setEmotionHistory] = useState([]);\n  const [recommendations, setRecommendations] = useState({\n    outfit: \"\",\n    food: \"\",\n    music: \"\",\n    delivery: []\n  });\n\n  // ------------------------------\n  // 1. Start camera\n  // ------------------------------\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      if (videoRef.current) videoRef.current.srcObject = stream;\n      console.log(\"üì∑ Camera started\");\n    } catch (err) {\n      console.error(\"‚ùå Camera error:\", err);\n      alert(\"Camera access denied. Please allow camera access.\");\n    }\n  };\n\n  // ------------------------------\n  // 2. Capture frame & send to WebSocket\n  // ------------------------------\n  const captureFrame = () => {\n    var _wsRef$current;\n    if (!videoRef.current || !canvasRef.current || ((_wsRef$current = wsRef.current) === null || _wsRef$current === void 0 ? void 0 : _wsRef$current.readyState) !== WebSocket.OPEN) return;\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    canvas.toBlob(blob => {\n      var _wsRef$current2;\n      if (blob && ((_wsRef$current2 = wsRef.current) === null || _wsRef$current2 === void 0 ? void 0 : _wsRef$current2.readyState) === WebSocket.OPEN) {\n        console.log(\"üì§ Sending frame, size:\", blob.size);\n        wsRef.current.send(blob);\n      }\n    }, \"image/jpeg\", 0.8);\n  };\n\n  // ------------------------------\n  // 3. Adjust FPS dynamically\n  // ------------------------------\n  const adjustFPS = emotionChanged => {\n    const newFps = emotionChanged ? 6 : 2;\n    if (newFps !== fps) setFps(newFps);\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    frameIntervalRef.current = setInterval(captureFrame, 1000 / newFps);\n    console.log(`‚è± FPS adjusted to: ${newFps}`);\n  };\n\n  // ------------------------------\n  // 4. Start analysis\n  // ------------------------------\n  const startAnalysis = async () => {\n    await startCamera();\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n    ws.onopen = () => {\n      console.log(\"‚úÖ WebSocket connected to\", WS_URL);\n      setConnectionStatus(\"connected\");\n      setIsAnalyzing(true);\n\n      // Send initial location if available\n      if (userLocationRef.current) {\n        ws.send(JSON.stringify({\n          type: \"location\",\n          ...userLocationRef.current\n        }));\n      }\n      frameIntervalRef.current = setInterval(captureFrame, 1000 / fps);\n    };\n    ws.onmessage = async event => {\n      try {\n        const raw = event.data instanceof Blob ? await event.data.text() : event.data;\n        const data = JSON.parse(raw);\n\n        // Check if it's recommendation message\n        const rec = data.recommendation || data.recommendations;\n        const emotion = data.dominantEmotion || data.emotion;\n        if (!emotion) return;\n        const emotionChanged = lastEmotionRef.current !== emotion;\n        lastEmotionRef.current = emotion;\n        setCurrentEmotion({\n          emotion,\n          timestamp: new Date().toLocaleTimeString()\n        });\n        setEmotionHistory(prev => [{\n          emotion,\n          timestamp: new Date().toLocaleTimeString()\n        }, ...prev.slice(0, 9)]);\n        adjustFPS(emotionChanged);\n        if (rec) {\n          setRecommendations({\n            outfit: rec.outfit || \"\",\n            food: rec.food || \"\",\n            music: rec.music || \"\",\n            delivery: rec.nearbyRestaurants || rec.delivery || []\n          });\n        }\n      } catch (err) {\n        console.error(\"‚ùå WS parse error:\", err);\n      }\n    };\n    ws.onerror = err => {\n      console.error(\"‚ùå WebSocket error:\", err);\n      setConnectionStatus(\"error\");\n      stopAnalysis();\n    };\n    ws.onclose = () => {\n      console.log(\"‚ùå WebSocket closed\");\n      setConnectionStatus(\"disconnected\");\n      setIsAnalyzing(false);\n      if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    };\n  };\n\n  // ------------------------------\n  // 5. Stop analysis\n  // ------------------------------\n  const stopAnalysis = () => {\n    if (wsRef.current) wsRef.current.close();\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    setIsAnalyzing(false);\n    setConnectionStatus(\"disconnected\");\n    console.log(\"üõë Analysis stopped\");\n  };\n\n  // ------------------------------\n  // 6. Get user location\n  // ------------------------------\n  useEffect(() => {\n    var _navigator$geolocatio;\n    (_navigator$geolocatio = navigator.geolocation) === null || _navigator$geolocatio === void 0 ? void 0 : _navigator$geolocatio.getCurrentPosition(pos => {\n      userLocationRef.current = {\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude\n      };\n      console.log(\"üìç User location:\", userLocationRef.current);\n    }, err => console.warn(\"‚ùå Location blocked:\", err));\n  }, []);\n\n  // ------------------------------\n  // 7. Render UI\n  // ------------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83E\\uDDE0 Emotion Driven Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      style: {\n        width: 400,\n        borderRadius: 8,\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isAnalyzing ? stopAnalysis : startAnalysis,\n        style: {\n          padding: \"10px 20px\",\n          fontSize: 16,\n          backgroundColor: isAnalyzing ? \"#e53e3e\" : \"#48bb78\",\n          border: \"none\",\n          borderRadius: 8,\n          cursor: \"pointer\"\n        },\n        children: isAnalyzing ? \"Stop Analysis\" : \"Start Emotion Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 10\n        },\n        children: [\"Status: \", connectionStatus]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), currentEmotion && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Current Emotion: \", currentEmotion.emotion]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: currentEmotion.timestamp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"AI Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Outfit:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 12\n        }, this), \" \", recommendations.outfit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Food:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 12\n        }, this), \" \", recommendations.food]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Music:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 12\n        }, this), \" \", recommendations.music]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), recommendations.delivery.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Delivery Options:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: recommendations.delivery.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: item\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 60\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), emotionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Emotion History (last 10)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: emotionHistory.map((e, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [e.emotion, \" - \", e.timestamp]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 47\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n_s(EmotionDrivenDashboard, \"eeUMBtzBu3Z5FXuJFNucdGdZJqk=\");\n_c = EmotionDrivenDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmotionDrivenDashboard\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","API_URL","process","env","NODE_ENV","REACT_APP_API_URL_PROD","REACT_APP_API_URL","WS_URL","REACT_APP_WS_URL_PROD","REACT_APP_WS_URL","EmotionDrivenDashboard","_s","videoRef","canvasRef","wsRef","frameIntervalRef","lastEmotionRef","userLocationRef","connectionStatus","setConnectionStatus","isAnalyzing","setIsAnalyzing","fps","setFps","Number","REACT_APP_DEFAULT_FPS","currentEmotion","setCurrentEmotion","emotionHistory","setEmotionHistory","recommendations","setRecommendations","outfit","food","music","delivery","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","console","log","err","error","alert","captureFrame","_wsRef$current","readyState","WebSocket","OPEN","canvas","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","toBlob","blob","_wsRef$current2","size","send","adjustFPS","emotionChanged","newFps","clearInterval","setInterval","startAnalysis","ws","onopen","JSON","stringify","type","onmessage","event","raw","data","Blob","text","parse","rec","recommendation","emotion","dominantEmotion","timestamp","Date","toLocaleTimeString","prev","slice","nearbyRestaurants","onerror","stopAnalysis","onclose","close","_navigator$geolocatio","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","warn","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","borderRadius","marginTop","display","onClick","fontSize","backgroundColor","border","cursor","marginLeft","length","map","item","i","e","idx","_c","$RefreshReg$"],"sources":["C:/Users/Kashif/Desktop/MindMaidbetaFresh/frontend/src/Component/EmotionDrivenDashboard.js"],"sourcesContent":["// frontend/src/EmotionDrivenDashboard.js\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n\r\n// Dynamically select API and WS URLs based on environment\r\nconst API_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? process.env.REACT_APP_API_URL_PROD || process.env.REACT_APP_API_URL\r\n    : process.env.REACT_APP_API_URL;\r\n\r\nconst WS_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? process.env.REACT_APP_WS_URL_PROD || process.env.REACT_APP_WS_URL\r\n    : process.env.REACT_APP_WS_URL;\r\n\r\nexport default function EmotionDrivenDashboard() {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const wsRef = useRef(null);\r\n  const frameIntervalRef = useRef(null);\r\n  const lastEmotionRef = useRef(null);\r\n  const userLocationRef = useRef(null);\r\n\r\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [fps, setFps] = useState(Number(process.env.REACT_APP_DEFAULT_FPS) || 4);\r\n\r\n  const [currentEmotion, setCurrentEmotion] = useState(null);\r\n  const [emotionHistory, setEmotionHistory] = useState([]);\r\n  const [recommendations, setRecommendations] = useState({\r\n    outfit: \"\",\r\n    food: \"\",\r\n    music: \"\",\r\n    delivery: [],\r\n  });\r\n\r\n  // ------------------------------\r\n  // 1. Start camera\r\n  // ------------------------------\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      if (videoRef.current) videoRef.current.srcObject = stream;\r\n      console.log(\"üì∑ Camera started\");\r\n    } catch (err) {\r\n      console.error(\"‚ùå Camera error:\", err);\r\n      alert(\"Camera access denied. Please allow camera access.\");\r\n    }\r\n  };\r\n\r\n  // ------------------------------\r\n  // 2. Capture frame & send to WebSocket\r\n  // ------------------------------\r\n  const captureFrame = () => {\r\n    if (!videoRef.current || !canvasRef.current || wsRef.current?.readyState !== WebSocket.OPEN) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n    canvas.toBlob((blob) => {\r\n      if (blob && wsRef.current?.readyState === WebSocket.OPEN) {\r\n        console.log(\"üì§ Sending frame, size:\", blob.size);\r\n        wsRef.current.send(blob);\r\n      }\r\n    }, \"image/jpeg\", 0.8);\r\n  };\r\n\r\n  // ------------------------------\r\n  // 3. Adjust FPS dynamically\r\n  // ------------------------------\r\n  const adjustFPS = (emotionChanged) => {\r\n    const newFps = emotionChanged ? 6 : 2;\r\n    if (newFps !== fps) setFps(newFps);\r\n\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    frameIntervalRef.current = setInterval(captureFrame, 1000 / newFps);\r\n    console.log(`‚è± FPS adjusted to: ${newFps}`);\r\n  };\r\n\r\n  // ------------------------------\r\n  // 4. Start analysis\r\n  // ------------------------------\r\n  const startAnalysis = async () => {\r\n    await startCamera();\r\n\r\n    const ws = new WebSocket(WS_URL);\r\n    wsRef.current = ws;\r\n\r\n    ws.onopen = () => {\r\n      console.log(\"‚úÖ WebSocket connected to\", WS_URL);\r\n      setConnectionStatus(\"connected\");\r\n      setIsAnalyzing(true);\r\n\r\n      // Send initial location if available\r\n      if (userLocationRef.current) {\r\n        ws.send(JSON.stringify({ type: \"location\", ...userLocationRef.current }));\r\n      }\r\n\r\n      frameIntervalRef.current = setInterval(captureFrame, 1000 / fps);\r\n    };\r\n\r\n    ws.onmessage = async (event) => {\r\n      try {\r\n        const raw = event.data instanceof Blob ? await event.data.text() : event.data;\r\n        const data = JSON.parse(raw);\r\n\r\n        // Check if it's recommendation message\r\n        const rec = data.recommendation || data.recommendations;\r\n        const emotion = data.dominantEmotion || data.emotion;\r\n\r\n        if (!emotion) return;\r\n\r\n        const emotionChanged = lastEmotionRef.current !== emotion;\r\n        lastEmotionRef.current = emotion;\r\n\r\n        setCurrentEmotion({ emotion, timestamp: new Date().toLocaleTimeString() });\r\n\r\n        setEmotionHistory((prev) => [\r\n          { emotion, timestamp: new Date().toLocaleTimeString() },\r\n          ...prev.slice(0, 9),\r\n        ]);\r\n\r\n        adjustFPS(emotionChanged);\r\n\r\n        if (rec) {\r\n          setRecommendations({\r\n            outfit: rec.outfit || \"\",\r\n            food: rec.food || \"\",\r\n            music: rec.music || \"\",\r\n            delivery: rec.nearbyRestaurants || rec.delivery || [],\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"‚ùå WS parse error:\", err);\r\n      }\r\n    };\r\n\r\n    ws.onerror = (err) => {\r\n      console.error(\"‚ùå WebSocket error:\", err);\r\n      setConnectionStatus(\"error\");\r\n      stopAnalysis();\r\n    };\r\n\r\n    ws.onclose = () => {\r\n      console.log(\"‚ùå WebSocket closed\");\r\n      setConnectionStatus(\"disconnected\");\r\n      setIsAnalyzing(false);\r\n      if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    };\r\n  };\r\n\r\n  // ------------------------------\r\n  // 5. Stop analysis\r\n  // ------------------------------\r\n  const stopAnalysis = () => {\r\n    if (wsRef.current) wsRef.current.close();\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    setIsAnalyzing(false);\r\n    setConnectionStatus(\"disconnected\");\r\n    console.log(\"üõë Analysis stopped\");\r\n  };\r\n\r\n  // ------------------------------\r\n  // 6. Get user location\r\n  // ------------------------------\r\n  useEffect(() => {\r\n    navigator.geolocation?.getCurrentPosition(\r\n      (pos) => {\r\n        userLocationRef.current = { lat: pos.coords.latitude, lng: pos.coords.longitude };\r\n        console.log(\"üìç User location:\", userLocationRef.current);\r\n      },\r\n      (err) => console.warn(\"‚ùå Location blocked:\", err)\r\n    );\r\n  }, []);\r\n\r\n  // ------------------------------\r\n  // 7. Render UI\r\n  // ------------------------------\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h1>üß† Emotion Driven Dashboard</h1>\r\n      <video ref={videoRef} autoPlay playsInline style={{ width: 400, borderRadius: 8, marginTop: 20 }} />\r\n      <canvas ref={canvasRef} style={{ display: \"none\" }} />\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <button\r\n          onClick={isAnalyzing ? stopAnalysis : startAnalysis}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            fontSize: 16,\r\n            backgroundColor: isAnalyzing ? \"#e53e3e\" : \"#48bb78\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          {isAnalyzing ? \"Stop Analysis\" : \"Start Emotion Analysis\"}\r\n        </button>\r\n        <span style={{ marginLeft: 10 }}>Status: {connectionStatus}</span>\r\n      </div>\r\n\r\n      {currentEmotion && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Current Emotion: {currentEmotion.emotion}</h3>\r\n          <small>{currentEmotion.timestamp}</small>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <h2>AI Recommendations</h2>\r\n        <p><strong>Outfit:</strong> {recommendations.outfit}</p>\r\n        <p><strong>Food:</strong> {recommendations.food}</p>\r\n        <p><strong>Music:</strong> {recommendations.music}</p>\r\n        {recommendations.delivery.length > 0 && (\r\n          <div>\r\n            <strong>Delivery Options:</strong>\r\n            <ul>{recommendations.delivery.map((item, i) => <li key={i}>{item}</li>)}</ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {emotionHistory.length > 0 && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Emotion History (last 10)</h3>\r\n          <ul>{emotionHistory.map((e, idx) => <li key={idx}>{e.emotion} - {e.timestamp}</li>)}</ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE1D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,OAAO,GACXC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACjCF,OAAO,CAACC,GAAG,CAACE,sBAAsB,IAAIH,OAAO,CAACC,GAAG,CAACG,iBAAiB,GACnEJ,OAAO,CAACC,GAAG,CAACG,iBAAiB;AAEnC,MAAMC,MAAM,GACVL,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACjCF,OAAO,CAACC,GAAG,CAACK,qBAAqB,IAAIN,OAAO,CAACC,GAAG,CAACM,gBAAgB,GACjEP,OAAO,CAACC,GAAG,CAACM,gBAAgB;AAElC,eAAe,SAASC,sBAAsBA,CAAA,EAAG;EAAAC,EAAA;EAC/C,MAAMC,QAAQ,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMiB,SAAS,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMkB,KAAK,GAAGlB,MAAM,CAAC,IAAI,CAAC;EAC1B,MAAMmB,gBAAgB,GAAGnB,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMoB,cAAc,GAAGpB,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMqB,eAAe,GAAGrB,MAAM,CAAC,IAAI,CAAC;EAEpC,MAAM,CAACsB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtB,QAAQ,CAAC,cAAc,CAAC;EACxE,MAAM,CAACuB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACyB,GAAG,EAAEC,MAAM,CAAC,GAAG1B,QAAQ,CAAC2B,MAAM,CAACtB,OAAO,CAACC,GAAG,CAACsB,qBAAqB,CAAC,IAAI,CAAC,CAAC;EAE9E,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC+B,cAAc,EAAEC,iBAAiB,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACiC,eAAe,EAAEC,kBAAkB,CAAC,GAAGlC,QAAQ,CAAC;IACrDmC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;;EAEF;EACA;EACA;EACA,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,IAAI7B,QAAQ,CAAC8B,OAAO,EAAE9B,QAAQ,CAAC8B,OAAO,CAACC,SAAS,GAAGN,MAAM;MACzDO,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAClC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZF,OAAO,CAACG,KAAK,CAAC,iBAAiB,EAAED,GAAG,CAAC;MACrCE,KAAK,CAAC,mDAAmD,CAAC;IAC5D;EACF,CAAC;;EAED;EACA;EACA;EACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;IAAA,IAAAC,cAAA;IACzB,IAAI,CAACtC,QAAQ,CAAC8B,OAAO,IAAI,CAAC7B,SAAS,CAAC6B,OAAO,IAAI,EAAAQ,cAAA,GAAApC,KAAK,CAAC4B,OAAO,cAAAQ,cAAA,uBAAbA,cAAA,CAAeC,UAAU,MAAKC,SAAS,CAACC,IAAI,EAAE;IAE7F,MAAMC,MAAM,GAAGzC,SAAS,CAAC6B,OAAO;IAChC,MAAMD,KAAK,GAAG7B,QAAQ,CAAC8B,OAAO;IAC9BY,MAAM,CAACC,KAAK,GAAGd,KAAK,CAACe,UAAU;IAC/BF,MAAM,CAACG,MAAM,GAAGhB,KAAK,CAACiB,WAAW;IAEjC,MAAMC,GAAG,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;IACnCD,GAAG,CAACE,SAAS,CAACpB,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEa,MAAM,CAACC,KAAK,EAAED,MAAM,CAACG,MAAM,CAAC;IAEvDH,MAAM,CAACQ,MAAM,CAAEC,IAAI,IAAK;MAAA,IAAAC,eAAA;MACtB,IAAID,IAAI,IAAI,EAAAC,eAAA,GAAAlD,KAAK,CAAC4B,OAAO,cAAAsB,eAAA,uBAAbA,eAAA,CAAeb,UAAU,MAAKC,SAAS,CAACC,IAAI,EAAE;QACxDT,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEkB,IAAI,CAACE,IAAI,CAAC;QACjDnD,KAAK,CAAC4B,OAAO,CAACwB,IAAI,CAACH,IAAI,CAAC;MAC1B;IACF,CAAC,EAAE,YAAY,EAAE,GAAG,CAAC;EACvB,CAAC;;EAED;EACA;EACA;EACA,MAAMI,SAAS,GAAIC,cAAc,IAAK;IACpC,MAAMC,MAAM,GAAGD,cAAc,GAAG,CAAC,GAAG,CAAC;IACrC,IAAIC,MAAM,KAAK/C,GAAG,EAAEC,MAAM,CAAC8C,MAAM,CAAC;IAElC,IAAItD,gBAAgB,CAAC2B,OAAO,EAAE4B,aAAa,CAACvD,gBAAgB,CAAC2B,OAAO,CAAC;IACrE3B,gBAAgB,CAAC2B,OAAO,GAAG6B,WAAW,CAACtB,YAAY,EAAE,IAAI,GAAGoB,MAAM,CAAC;IACnEzB,OAAO,CAACC,GAAG,CAAC,sBAAsBwB,MAAM,EAAE,CAAC;EAC7C,CAAC;;EAED;EACA;EACA;EACA,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMpC,WAAW,CAAC,CAAC;IAEnB,MAAMqC,EAAE,GAAG,IAAIrB,SAAS,CAAC7C,MAAM,CAAC;IAChCO,KAAK,CAAC4B,OAAO,GAAG+B,EAAE;IAElBA,EAAE,CAACC,MAAM,GAAG,MAAM;MAChB9B,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEtC,MAAM,CAAC;MAC/CY,mBAAmB,CAAC,WAAW,CAAC;MAChCE,cAAc,CAAC,IAAI,CAAC;;MAEpB;MACA,IAAIJ,eAAe,CAACyB,OAAO,EAAE;QAC3B+B,EAAE,CAACP,IAAI,CAACS,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAE,UAAU;UAAE,GAAG5D,eAAe,CAACyB;QAAQ,CAAC,CAAC,CAAC;MAC3E;MAEA3B,gBAAgB,CAAC2B,OAAO,GAAG6B,WAAW,CAACtB,YAAY,EAAE,IAAI,GAAG3B,GAAG,CAAC;IAClE,CAAC;IAEDmD,EAAE,CAACK,SAAS,GAAG,MAAOC,KAAK,IAAK;MAC9B,IAAI;QACF,MAAMC,GAAG,GAAGD,KAAK,CAACE,IAAI,YAAYC,IAAI,GAAG,MAAMH,KAAK,CAACE,IAAI,CAACE,IAAI,CAAC,CAAC,GAAGJ,KAAK,CAACE,IAAI;QAC7E,MAAMA,IAAI,GAAGN,IAAI,CAACS,KAAK,CAACJ,GAAG,CAAC;;QAE5B;QACA,MAAMK,GAAG,GAAGJ,IAAI,CAACK,cAAc,IAAIL,IAAI,CAACnD,eAAe;QACvD,MAAMyD,OAAO,GAAGN,IAAI,CAACO,eAAe,IAAIP,IAAI,CAACM,OAAO;QAEpD,IAAI,CAACA,OAAO,EAAE;QAEd,MAAMnB,cAAc,GAAGpD,cAAc,CAAC0B,OAAO,KAAK6C,OAAO;QACzDvE,cAAc,CAAC0B,OAAO,GAAG6C,OAAO;QAEhC5D,iBAAiB,CAAC;UAAE4D,OAAO;UAAEE,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC;QAAE,CAAC,CAAC;QAE1E9D,iBAAiB,CAAE+D,IAAI,IAAK,CAC1B;UAAEL,OAAO;UAAEE,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC;QAAE,CAAC,EACvD,GAAGC,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACpB,CAAC;QAEF1B,SAAS,CAACC,cAAc,CAAC;QAEzB,IAAIiB,GAAG,EAAE;UACPtD,kBAAkB,CAAC;YACjBC,MAAM,EAAEqD,GAAG,CAACrD,MAAM,IAAI,EAAE;YACxBC,IAAI,EAAEoD,GAAG,CAACpD,IAAI,IAAI,EAAE;YACpBC,KAAK,EAAEmD,GAAG,CAACnD,KAAK,IAAI,EAAE;YACtBC,QAAQ,EAAEkD,GAAG,CAACS,iBAAiB,IAAIT,GAAG,CAAClD,QAAQ,IAAI;UACrD,CAAC,CAAC;QACJ;MACF,CAAC,CAAC,OAAOW,GAAG,EAAE;QACZF,OAAO,CAACG,KAAK,CAAC,mBAAmB,EAAED,GAAG,CAAC;MACzC;IACF,CAAC;IAED2B,EAAE,CAACsB,OAAO,GAAIjD,GAAG,IAAK;MACpBF,OAAO,CAACG,KAAK,CAAC,oBAAoB,EAAED,GAAG,CAAC;MACxC3B,mBAAmB,CAAC,OAAO,CAAC;MAC5B6E,YAAY,CAAC,CAAC;IAChB,CAAC;IAEDvB,EAAE,CAACwB,OAAO,GAAG,MAAM;MACjBrD,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC1B,mBAAmB,CAAC,cAAc,CAAC;MACnCE,cAAc,CAAC,KAAK,CAAC;MACrB,IAAIN,gBAAgB,CAAC2B,OAAO,EAAE4B,aAAa,CAACvD,gBAAgB,CAAC2B,OAAO,CAAC;IACvE,CAAC;EACH,CAAC;;EAED;EACA;EACA;EACA,MAAMsD,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIlF,KAAK,CAAC4B,OAAO,EAAE5B,KAAK,CAAC4B,OAAO,CAACwD,KAAK,CAAC,CAAC;IACxC,IAAInF,gBAAgB,CAAC2B,OAAO,EAAE4B,aAAa,CAACvD,gBAAgB,CAAC2B,OAAO,CAAC;IACrErB,cAAc,CAAC,KAAK,CAAC;IACrBF,mBAAmB,CAAC,cAAc,CAAC;IACnCyB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EACpC,CAAC;;EAED;EACA;EACA;EACA/C,SAAS,CAAC,MAAM;IAAA,IAAAqG,qBAAA;IACd,CAAAA,qBAAA,GAAA7D,SAAS,CAAC8D,WAAW,cAAAD,qBAAA,uBAArBA,qBAAA,CAAuBE,kBAAkB,CACtCC,GAAG,IAAK;MACPrF,eAAe,CAACyB,OAAO,GAAG;QAAE6D,GAAG,EAAED,GAAG,CAACE,MAAM,CAACC,QAAQ;QAAEC,GAAG,EAAEJ,GAAG,CAACE,MAAM,CAACG;MAAU,CAAC;MACjF/D,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE5B,eAAe,CAACyB,OAAO,CAAC;IAC3D,CAAC,EACAI,GAAG,IAAKF,OAAO,CAACgE,IAAI,CAAC,qBAAqB,EAAE9D,GAAG,CAClD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;EACA,oBACE9C,OAAA;IAAK6G,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1B/G,OAAA;MAAA+G,QAAA,EAAI;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpCnH,OAAA;MAAOoH,GAAG,EAAExG,QAAS;MAACyG,QAAQ;MAACC,WAAW;MAACT,KAAK,EAAE;QAAEtD,KAAK,EAAE,GAAG;QAAEgE,YAAY,EAAE,CAAC;QAAEC,SAAS,EAAE;MAAG;IAAE;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpGnH,OAAA;MAAQoH,GAAG,EAAEvG,SAAU;MAACgG,KAAK,EAAE;QAAEY,OAAO,EAAE;MAAO;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEtDnH,OAAA;MAAK6G,KAAK,EAAE;QAAEW,SAAS,EAAE;MAAG,CAAE;MAAAT,QAAA,gBAC5B/G,OAAA;QACE0H,OAAO,EAAEtG,WAAW,GAAG4E,YAAY,GAAGxB,aAAc;QACpDqC,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBa,QAAQ,EAAE,EAAE;UACZC,eAAe,EAAExG,WAAW,GAAG,SAAS,GAAG,SAAS;UACpDyG,MAAM,EAAE,MAAM;UACdN,YAAY,EAAE,CAAC;UACfO,MAAM,EAAE;QACV,CAAE;QAAAf,QAAA,EAED3F,WAAW,GAAG,eAAe,GAAG;MAAwB;QAAA4F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eACTnH,OAAA;QAAM6G,KAAK,EAAE;UAAEkB,UAAU,EAAE;QAAG,CAAE;QAAAhB,QAAA,GAAC,UAAQ,EAAC7F,gBAAgB;MAAA;QAAA8F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC,EAELzF,cAAc,iBACb1B,OAAA;MAAK6G,KAAK,EAAE;QAAEW,SAAS,EAAE;MAAG,CAAE;MAAAT,QAAA,gBAC5B/G,OAAA;QAAA+G,QAAA,GAAI,mBAAiB,EAACrF,cAAc,CAAC6D,OAAO;MAAA;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAClDnH,OAAA;QAAA+G,QAAA,EAAQrF,cAAc,CAAC+D;MAAS;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CACN,eAEDnH,OAAA;MAAK6G,KAAK,EAAE;QAAEW,SAAS,EAAE;MAAG,CAAE;MAAAT,QAAA,gBAC5B/G,OAAA;QAAA+G,QAAA,EAAI;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3BnH,OAAA;QAAA+G,QAAA,gBAAG/G,OAAA;UAAA+G,QAAA,EAAQ;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACrF,eAAe,CAACE,MAAM;MAAA;QAAAgF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxDnH,OAAA;QAAA+G,QAAA,gBAAG/G,OAAA;UAAA+G,QAAA,EAAQ;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACrF,eAAe,CAACG,IAAI;MAAA;QAAA+E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpDnH,OAAA;QAAA+G,QAAA,gBAAG/G,OAAA;UAAA+G,QAAA,EAAQ;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACrF,eAAe,CAACI,KAAK;MAAA;QAAA8E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACrDrF,eAAe,CAACK,QAAQ,CAAC6F,MAAM,GAAG,CAAC,iBAClChI,OAAA;QAAA+G,QAAA,gBACE/G,OAAA;UAAA+G,QAAA,EAAQ;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCnH,OAAA;UAAA+G,QAAA,EAAKjF,eAAe,CAACK,QAAQ,CAAC8F,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,kBAAKnI,OAAA;YAAA+G,QAAA,EAAamB;UAAI,GAARC,CAAC;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAELvF,cAAc,CAACoG,MAAM,GAAG,CAAC,iBACxBhI,OAAA;MAAK6G,KAAK,EAAE;QAAEW,SAAS,EAAE;MAAG,CAAE;MAAAT,QAAA,gBAC5B/G,OAAA;QAAA+G,QAAA,EAAI;MAAyB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClCnH,OAAA;QAAA+G,QAAA,EAAKnF,cAAc,CAACqG,GAAG,CAAC,CAACG,CAAC,EAAEC,GAAG,kBAAKrI,OAAA;UAAA+G,QAAA,GAAeqB,CAAC,CAAC7C,OAAO,EAAC,KAAG,EAAC6C,CAAC,CAAC3C,SAAS;QAAA,GAA/B4C,GAAG;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAiC,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtF,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACxG,EAAA,CA3NuBD,sBAAsB;AAAA4H,EAAA,GAAtB5H,sBAAsB;AAAA,IAAA4H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}