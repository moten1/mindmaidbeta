{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kashif\\\\Desktop\\\\MindMaidbetaFresh\\\\frontend\\\\src\\\\Component\\\\EmotionDrivenDashboard.js\",\n  _s = $RefreshSig$();\n// frontend/src/EmotionDrivenDashboard.js\nimport React, { useRef, useState, useEffect } from \"react\";\n\n// Dynamically select API and WS URLs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_API_URL || \"https://mindmaid-backend.onrender.com\" : process.env.REACT_APP_API_URL || \"http://localhost:5000\";\nconst WS_URL = process.env.NODE_ENV === \"production\" ? process.env.REACT_APP_WS_URL || \"wss://mindmaid-backend.onrender.com\" : process.env.REACT_APP_WS_URL || \"ws://localhost:5000\";\nexport default function EmotionDrivenDashboard() {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const wsRef = useRef(null);\n  const frameIntervalRef = useRef(null);\n  const lastEmotionRef = useRef(null);\n  const userLocationRef = useRef(null);\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [fps, setFps] = useState(parseInt(process.env.REACT_APP_DEFAULT_FPS || 4));\n  const [currentEmotion, setCurrentEmotion] = useState(null);\n  const [emotionHistory, setEmotionHistory] = useState([]);\n  const [recommendations, setRecommendations] = useState({\n    outfit: \"\",\n    food: \"\",\n    music: \"\",\n    delivery: []\n  });\n\n  // Start camera\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    } catch (err) {\n      console.error(\"Camera error:\", err);\n      alert(\"Camera access denied. Please allow camera access.\");\n    }\n  };\n\n  // Capture frame & send to WebSocket\n  const captureFrame = () => {\n    var _wsRef$current;\n    if (!videoRef.current || !canvasRef.current || ((_wsRef$current = wsRef.current) === null || _wsRef$current === void 0 ? void 0 : _wsRef$current.readyState) !== WebSocket.OPEN) return;\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    canvas.toBlob(blob => {\n      var _wsRef$current2;\n      if (blob && ((_wsRef$current2 = wsRef.current) === null || _wsRef$current2 === void 0 ? void 0 : _wsRef$current2.readyState) === WebSocket.OPEN) {\n        wsRef.current.send(blob);\n      }\n    }, \"image/jpeg\", 0.8);\n  };\n\n  // Adjust FPS dynamically\n  const adjustFPS = emotionChanged => {\n    const newFps = emotionChanged ? 6 : 2;\n    setFps(newFps);\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    frameIntervalRef.current = setInterval(captureFrame, 1000 / newFps);\n  };\n\n  // Start analysis\n  const startAnalysis = async () => {\n    await startCamera();\n    const ws = new WebSocket(WS_URL);\n    wsRef.current = ws;\n    ws.onopen = () => {\n      console.log(\"âœ… WebSocket connected\");\n      setConnectionStatus(\"connected\");\n      setIsAnalyzing(true);\n      if (userLocationRef.current) {\n        ws.send(JSON.stringify({\n          type: \"location\",\n          ...userLocationRef.current\n        }));\n      }\n      frameIntervalRef.current = setInterval(captureFrame, 1000 / fps);\n    };\n    ws.onmessage = async event => {\n      try {\n        const raw = event.data instanceof Blob ? await event.data.text() : event.data;\n        const data = JSON.parse(raw);\n        if (data.success && data.dominantEmotion) {\n          const emotion = data.dominantEmotion;\n          const emotionChanged = lastEmotionRef.current !== emotion;\n          lastEmotionRef.current = emotion;\n          setCurrentEmotion({\n            emotion,\n            timestamp: new Date().toLocaleTimeString()\n          });\n          setEmotionHistory(prev => [{\n            emotion,\n            timestamp: new Date().toLocaleTimeString()\n          }, ...prev.slice(0, 9)]);\n          adjustFPS(emotionChanged);\n          setRecommendations({\n            outfit: data.recommendation.outfit || \"\",\n            food: data.recommendation.food || \"\",\n            music: data.recommendation.music || \"\",\n            delivery: data.recommendation.nearbyRestaurants || []\n          });\n        }\n      } catch (err) {\n        console.error(\"WS parse error:\", err);\n      }\n    };\n    ws.onerror = err => {\n      console.error(\"WebSocket error:\", err);\n      setConnectionStatus(\"error\");\n      stopAnalysis();\n    };\n    ws.onclose = () => {\n      console.log(\"âŒ WebSocket closed\");\n      setConnectionStatus(\"disconnected\");\n      setIsAnalyzing(false);\n      if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    };\n  };\n\n  // Stop analysis\n  const stopAnalysis = () => {\n    if (wsRef.current) wsRef.current.close();\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\n    setIsAnalyzing(false);\n    setConnectionStatus(\"disconnected\");\n  };\n\n  // Get user location\n  useEffect(() => {\n    var _navigator$geolocatio;\n    (_navigator$geolocatio = navigator.geolocation) === null || _navigator$geolocatio === void 0 ? void 0 : _navigator$geolocatio.getCurrentPosition(pos => userLocationRef.current = {\n      lat: pos.coords.latitude,\n      lng: pos.coords.longitude\n    }, err => console.warn(\"Location blocked:\", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83E\\uDDE0 Emotion Driven Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true,\n      playsInline: true,\n      style: {\n        width: 400,\n        borderRadius: 8,\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isAnalyzing ? stopAnalysis : startAnalysis,\n        style: {\n          padding: \"10px 20px\",\n          fontSize: 16,\n          backgroundColor: isAnalyzing ? \"#e53e3e\" : \"#48bb78\",\n          border: \"none\",\n          borderRadius: 8,\n          cursor: \"pointer\"\n        },\n        children: isAnalyzing ? \"Stop Analysis\" : \"Start Emotion Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 10\n        },\n        children: [\"Status: \", connectionStatus]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), currentEmotion && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Current Emotion: \", currentEmotion.emotion]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: currentEmotion.timestamp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"AI Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Outfit:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 12\n        }, this), \" \", recommendations.outfit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Food:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 12\n        }, this), \" \", recommendations.food]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Music:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 12\n        }, this), \" \", recommendations.music]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), recommendations.delivery.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Delivery Options:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: recommendations.delivery.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: item.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 60\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), emotionHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Emotion History (last 10)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: emotionHistory.map((e, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [e.emotion, \" - \", e.timestamp]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 47\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n_s(EmotionDrivenDashboard, \"y3tLMSmdSQbAjTBcMzbGnKCl3Eo=\");\n_c = EmotionDrivenDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmotionDrivenDashboard\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","API_URL","process","env","NODE_ENV","REACT_APP_API_URL","WS_URL","REACT_APP_WS_URL","EmotionDrivenDashboard","_s","videoRef","canvasRef","wsRef","frameIntervalRef","lastEmotionRef","userLocationRef","connectionStatus","setConnectionStatus","isAnalyzing","setIsAnalyzing","fps","setFps","parseInt","REACT_APP_DEFAULT_FPS","currentEmotion","setCurrentEmotion","emotionHistory","setEmotionHistory","recommendations","setRecommendations","outfit","food","music","delivery","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","console","error","alert","captureFrame","_wsRef$current","readyState","WebSocket","OPEN","canvas","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","toBlob","blob","_wsRef$current2","send","adjustFPS","emotionChanged","newFps","clearInterval","setInterval","startAnalysis","ws","onopen","log","JSON","stringify","type","onmessage","event","raw","data","Blob","text","parse","success","dominantEmotion","emotion","timestamp","Date","toLocaleTimeString","prev","slice","recommendation","nearbyRestaurants","onerror","stopAnalysis","onclose","close","_navigator$geolocatio","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","warn","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","playsInline","borderRadius","marginTop","display","onClick","fontSize","backgroundColor","border","cursor","marginLeft","length","map","item","i","name","e","idx","_c","$RefreshReg$"],"sources":["C:/Users/Kashif/Desktop/MindMaidbetaFresh/frontend/src/Component/EmotionDrivenDashboard.js"],"sourcesContent":["// frontend/src/EmotionDrivenDashboard.js\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n\r\n// Dynamically select API and WS URLs\r\nconst API_URL = process.env.NODE_ENV === \"production\"\r\n  ? process.env.REACT_APP_API_URL || \"https://mindmaid-backend.onrender.com\"\r\n  : process.env.REACT_APP_API_URL || \"http://localhost:5000\";\r\n\r\nconst WS_URL = process.env.NODE_ENV === \"production\"\r\n  ? process.env.REACT_APP_WS_URL || \"wss://mindmaid-backend.onrender.com\"\r\n  : process.env.REACT_APP_WS_URL || \"ws://localhost:5000\";\r\n\r\nexport default function EmotionDrivenDashboard() {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const wsRef = useRef(null);\r\n  const frameIntervalRef = useRef(null);\r\n  const lastEmotionRef = useRef(null);\r\n  const userLocationRef = useRef(null);\r\n\r\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [fps, setFps] = useState(parseInt(process.env.REACT_APP_DEFAULT_FPS || 4));\r\n\r\n  const [currentEmotion, setCurrentEmotion] = useState(null);\r\n  const [emotionHistory, setEmotionHistory] = useState([]);\r\n  const [recommendations, setRecommendations] = useState({\r\n    outfit: \"\",\r\n    food: \"\",\r\n    music: \"\",\r\n    delivery: [],\r\n  });\r\n\r\n  // Start camera\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      if (videoRef.current) videoRef.current.srcObject = stream;\r\n    } catch (err) {\r\n      console.error(\"Camera error:\", err);\r\n      alert(\"Camera access denied. Please allow camera access.\");\r\n    }\r\n  };\r\n\r\n  // Capture frame & send to WebSocket\r\n  const captureFrame = () => {\r\n    if (!videoRef.current || !canvasRef.current || wsRef.current?.readyState !== WebSocket.OPEN)\r\n      return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n    canvas.toBlob((blob) => {\r\n      if (blob && wsRef.current?.readyState === WebSocket.OPEN) {\r\n        wsRef.current.send(blob);\r\n      }\r\n    }, \"image/jpeg\", 0.8);\r\n  };\r\n\r\n  // Adjust FPS dynamically\r\n  const adjustFPS = (emotionChanged) => {\r\n    const newFps = emotionChanged ? 6 : 2;\r\n    setFps(newFps);\r\n\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    frameIntervalRef.current = setInterval(captureFrame, 1000 / newFps);\r\n  };\r\n\r\n  // Start analysis\r\n  const startAnalysis = async () => {\r\n    await startCamera();\r\n\r\n    const ws = new WebSocket(WS_URL);\r\n    wsRef.current = ws;\r\n\r\n    ws.onopen = () => {\r\n      console.log(\"âœ… WebSocket connected\");\r\n      setConnectionStatus(\"connected\");\r\n      setIsAnalyzing(true);\r\n\r\n      if (userLocationRef.current) {\r\n        ws.send(JSON.stringify({ type: \"location\", ...userLocationRef.current }));\r\n      }\r\n\r\n      frameIntervalRef.current = setInterval(captureFrame, 1000 / fps);\r\n    };\r\n\r\n    ws.onmessage = async (event) => {\r\n      try {\r\n        const raw = event.data instanceof Blob ? await event.data.text() : event.data;\r\n        const data = JSON.parse(raw);\r\n\r\n        if (data.success && data.dominantEmotion) {\r\n          const emotion = data.dominantEmotion;\r\n          const emotionChanged = lastEmotionRef.current !== emotion;\r\n          lastEmotionRef.current = emotion;\r\n\r\n          setCurrentEmotion({ emotion, timestamp: new Date().toLocaleTimeString() });\r\n\r\n          setEmotionHistory((prev) => [\r\n            { emotion, timestamp: new Date().toLocaleTimeString() },\r\n            ...prev.slice(0, 9),\r\n          ]);\r\n\r\n          adjustFPS(emotionChanged);\r\n\r\n          setRecommendations({\r\n            outfit: data.recommendation.outfit || \"\",\r\n            food: data.recommendation.food || \"\",\r\n            music: data.recommendation.music || \"\",\r\n            delivery: data.recommendation.nearbyRestaurants || [],\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"WS parse error:\", err);\r\n      }\r\n    };\r\n\r\n    ws.onerror = (err) => {\r\n      console.error(\"WebSocket error:\", err);\r\n      setConnectionStatus(\"error\");\r\n      stopAnalysis();\r\n    };\r\n\r\n    ws.onclose = () => {\r\n      console.log(\"âŒ WebSocket closed\");\r\n      setConnectionStatus(\"disconnected\");\r\n      setIsAnalyzing(false);\r\n      if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    };\r\n  };\r\n\r\n  // Stop analysis\r\n  const stopAnalysis = () => {\r\n    if (wsRef.current) wsRef.current.close();\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    setIsAnalyzing(false);\r\n    setConnectionStatus(\"disconnected\");\r\n  };\r\n\r\n  // Get user location\r\n  useEffect(() => {\r\n    navigator.geolocation?.getCurrentPosition(\r\n      (pos) => (userLocationRef.current = { lat: pos.coords.latitude, lng: pos.coords.longitude }),\r\n      (err) => console.warn(\"Location blocked:\", err)\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h1>ðŸ§  Emotion Driven Dashboard</h1>\r\n      <video ref={videoRef} autoPlay playsInline style={{ width: 400, borderRadius: 8, marginTop: 20 }} />\r\n      <canvas ref={canvasRef} style={{ display: \"none\" }} />\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <button\r\n          onClick={isAnalyzing ? stopAnalysis : startAnalysis}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            fontSize: 16,\r\n            backgroundColor: isAnalyzing ? \"#e53e3e\" : \"#48bb78\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          {isAnalyzing ? \"Stop Analysis\" : \"Start Emotion Analysis\"}\r\n        </button>\r\n        <span style={{ marginLeft: 10 }}>Status: {connectionStatus}</span>\r\n      </div>\r\n\r\n      {currentEmotion && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Current Emotion: {currentEmotion.emotion}</h3>\r\n          <small>{currentEmotion.timestamp}</small>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <h2>AI Recommendations</h2>\r\n        <p><strong>Outfit:</strong> {recommendations.outfit}</p>\r\n        <p><strong>Food:</strong> {recommendations.food}</p>\r\n        <p><strong>Music:</strong> {recommendations.music}</p>\r\n        {recommendations.delivery.length > 0 && (\r\n          <div>\r\n            <strong>Delivery Options:</strong>\r\n            <ul>{recommendations.delivery.map((item, i) => <li key={i}>{item.name}</li>)}</ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {emotionHistory.length > 0 && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Emotion History (last 10)</h3>\r\n          <ul>{emotionHistory.map((e, idx) => <li key={idx}>{e.emotion} - {e.timestamp}</li>)}</ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}