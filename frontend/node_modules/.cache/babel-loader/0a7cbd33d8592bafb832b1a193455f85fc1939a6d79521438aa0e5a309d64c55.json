{"ast":null,"code":"import _objectSpread from\"C:/Users/Kashif/Desktop/MindMaidbetaFresh/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/EmotionDrivenDashboard.js\nimport React,{useRef,useState,useEffect}from\"react\";// Dynamically select API and WS URLs based on environment\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.NODE_ENV===\"production\"?process.env.REACT_APP_API_URL_PROD||process.env.REACT_APP_API_URL:process.env.REACT_APP_API_URL;const WS_URL=process.env.NODE_ENV===\"production\"?process.env.REACT_APP_WS_URL_PROD||process.env.REACT_APP_WS_URL:process.env.REACT_APP_WS_URL;export default function EmotionDrivenDashboard(){const videoRef=useRef(null);const canvasRef=useRef(null);const wsRef=useRef(null);const frameIntervalRef=useRef(null);const lastEmotionRef=useRef(null);const userLocationRef=useRef(null);const[connectionStatus,setConnectionStatus]=useState(\"disconnected\");const[isAnalyzing,setIsAnalyzing]=useState(false);const[fps,setFps]=useState(Number(process.env.REACT_APP_DEFAULT_FPS)||4);const[currentEmotion,setCurrentEmotion]=useState(null);const[emotionHistory,setEmotionHistory]=useState([]);const[recommendations,setRecommendations]=useState({outfit:\"\",food:\"\",music:\"\",delivery:[]});// ------------------------------\n// 1. Start camera\n// ------------------------------\nconst startCamera=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:true});if(videoRef.current)videoRef.current.srcObject=stream;console.log(\"üì∑ Camera started\");}catch(err){console.error(\"‚ùå Camera error:\",err);alert(\"Camera access denied. Please allow camera access.\");}};// ------------------------------\n// 2. Capture frame & send to WebSocket\n// ------------------------------\nconst captureFrame=()=>{var _wsRef$current;if(!videoRef.current||!canvasRef.current||((_wsRef$current=wsRef.current)===null||_wsRef$current===void 0?void 0:_wsRef$current.readyState)!==WebSocket.OPEN)return;const canvas=canvasRef.current;const video=videoRef.current;canvas.width=video.videoWidth;canvas.height=video.videoHeight;const ctx=canvas.getContext(\"2d\");ctx.drawImage(video,0,0,canvas.width,canvas.height);canvas.toBlob(blob=>{var _wsRef$current2;if(blob&&((_wsRef$current2=wsRef.current)===null||_wsRef$current2===void 0?void 0:_wsRef$current2.readyState)===WebSocket.OPEN){console.log(\"üì§ Sending frame, size:\",blob.size);wsRef.current.send(blob);}},\"image/jpeg\",0.8);};// ------------------------------\n// 3. Adjust FPS dynamically\n// ------------------------------\nconst adjustFPS=emotionChanged=>{const newFps=emotionChanged?6:2;if(newFps!==fps)setFps(newFps);if(frameIntervalRef.current)clearInterval(frameIntervalRef.current);frameIntervalRef.current=setInterval(captureFrame,1000/newFps);console.log(\"\\u23F1 FPS adjusted to: \".concat(newFps));};// ------------------------------\n// 4. Start analysis\n// ------------------------------\nconst startAnalysis=async()=>{await startCamera();const ws=new WebSocket(WS_URL);wsRef.current=ws;ws.onopen=()=>{console.log(\"‚úÖ WebSocket connected to\",WS_URL);setConnectionStatus(\"connected\");setIsAnalyzing(true);// Send initial location if available\nif(userLocationRef.current){ws.send(JSON.stringify(_objectSpread({type:\"location\"},userLocationRef.current)));}frameIntervalRef.current=setInterval(captureFrame,1000/fps);};ws.onmessage=async event=>{try{const raw=event.data instanceof Blob?await event.data.text():event.data;const data=JSON.parse(raw);// Check if it's recommendation message\nconst rec=data.recommendation||data.recommendations;const emotion=data.dominantEmotion||data.emotion;if(!emotion)return;const emotionChanged=lastEmotionRef.current!==emotion;lastEmotionRef.current=emotion;setCurrentEmotion({emotion,timestamp:new Date().toLocaleTimeString()});setEmotionHistory(prev=>[{emotion,timestamp:new Date().toLocaleTimeString()},...prev.slice(0,9)]);adjustFPS(emotionChanged);if(rec){setRecommendations({outfit:rec.outfit||\"\",food:rec.food||\"\",music:rec.music||\"\",delivery:rec.nearbyRestaurants||rec.delivery||[]});}}catch(err){console.error(\"‚ùå WS parse error:\",err);}};ws.onerror=err=>{console.error(\"‚ùå WebSocket error:\",err);setConnectionStatus(\"error\");stopAnalysis();};ws.onclose=()=>{console.log(\"‚ùå WebSocket closed\");setConnectionStatus(\"disconnected\");setIsAnalyzing(false);if(frameIntervalRef.current)clearInterval(frameIntervalRef.current);};};// ------------------------------\n// 5. Stop analysis\n// ------------------------------\nconst stopAnalysis=()=>{if(wsRef.current)wsRef.current.close();if(frameIntervalRef.current)clearInterval(frameIntervalRef.current);setIsAnalyzing(false);setConnectionStatus(\"disconnected\");console.log(\"üõë Analysis stopped\");};// ------------------------------\n// 6. Get user location\n// ------------------------------\nuseEffect(()=>{var _navigator$geolocatio;(_navigator$geolocatio=navigator.geolocation)===null||_navigator$geolocatio===void 0?void 0:_navigator$geolocatio.getCurrentPosition(pos=>{userLocationRef.current={lat:pos.coords.latitude,lng:pos.coords.longitude};console.log(\"üìç User location:\",userLocationRef.current);},err=>console.warn(\"‚ùå Location blocked:\",err));},[]);// ------------------------------\n// 7. Render UI\n// ------------------------------\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83E\\uDDE0 Emotion Driven Dashboard\"}),/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,playsInline:true,style:{width:400,borderRadius:8,marginTop:20}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:\"none\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"button\",{onClick:isAnalyzing?stopAnalysis:startAnalysis,style:{padding:\"10px 20px\",fontSize:16,backgroundColor:isAnalyzing?\"#e53e3e\":\"#48bb78\",border:\"none\",borderRadius:8,cursor:\"pointer\"},children:isAnalyzing?\"Stop Analysis\":\"Start Emotion Analysis\"}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:10},children:[\"Status: \",connectionStatus]})]}),currentEmotion&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current Emotion: \",currentEmotion.emotion]}),/*#__PURE__*/_jsx(\"small\",{children:currentEmotion.timestamp})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"AI Recommendations\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Outfit:\"}),\" \",recommendations.outfit]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Food:\"}),\" \",recommendations.food]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Music:\"}),\" \",recommendations.music]}),recommendations.delivery.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery Options:\"}),/*#__PURE__*/_jsx(\"ul\",{children:recommendations.delivery.map((item,i)=>/*#__PURE__*/_jsx(\"li\",{children:item},i))})]})]}),emotionHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Emotion History (last 10)\"}),/*#__PURE__*/_jsx(\"ul\",{children:emotionHistory.map((e,idx)=>/*#__PURE__*/_jsxs(\"li\",{children:[e.emotion,\" - \",e.timestamp]},idx))})]})]});}","map":{"version":3,"names":["React","useRef","useState","useEffect","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","NODE_ENV","REACT_APP_API_URL_PROD","REACT_APP_API_URL","WS_URL","REACT_APP_WS_URL_PROD","REACT_APP_WS_URL","EmotionDrivenDashboard","videoRef","canvasRef","wsRef","frameIntervalRef","lastEmotionRef","userLocationRef","connectionStatus","setConnectionStatus","isAnalyzing","setIsAnalyzing","fps","setFps","Number","REACT_APP_DEFAULT_FPS","currentEmotion","setCurrentEmotion","emotionHistory","setEmotionHistory","recommendations","setRecommendations","outfit","food","music","delivery","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","console","log","err","error","alert","captureFrame","_wsRef$current","readyState","WebSocket","OPEN","canvas","width","videoWidth","height","videoHeight","ctx","getContext","drawImage","toBlob","blob","_wsRef$current2","size","send","adjustFPS","emotionChanged","newFps","clearInterval","setInterval","concat","startAnalysis","ws","onopen","JSON","stringify","_objectSpread","type","onmessage","event","raw","data","Blob","text","parse","rec","recommendation","emotion","dominantEmotion","timestamp","Date","toLocaleTimeString","prev","slice","nearbyRestaurants","onerror","stopAnalysis","onclose","close","_navigator$geolocatio","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","warn","style","padding","children","ref","autoPlay","playsInline","borderRadius","marginTop","display","onClick","fontSize","backgroundColor","border","cursor","marginLeft","length","map","item","i","e","idx"],"sources":["C:/Users/Kashif/Desktop/MindMaidbetaFresh/frontend/src/Component/EmotionDrivenDashboard.js"],"sourcesContent":["// frontend/src/EmotionDrivenDashboard.js\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n\r\n// Dynamically select API and WS URLs based on environment\r\nconst API_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? process.env.REACT_APP_API_URL_PROD || process.env.REACT_APP_API_URL\r\n    : process.env.REACT_APP_API_URL;\r\n\r\nconst WS_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? process.env.REACT_APP_WS_URL_PROD || process.env.REACT_APP_WS_URL\r\n    : process.env.REACT_APP_WS_URL;\r\n\r\nexport default function EmotionDrivenDashboard() {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const wsRef = useRef(null);\r\n  const frameIntervalRef = useRef(null);\r\n  const lastEmotionRef = useRef(null);\r\n  const userLocationRef = useRef(null);\r\n\r\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [fps, setFps] = useState(Number(process.env.REACT_APP_DEFAULT_FPS) || 4);\r\n\r\n  const [currentEmotion, setCurrentEmotion] = useState(null);\r\n  const [emotionHistory, setEmotionHistory] = useState([]);\r\n  const [recommendations, setRecommendations] = useState({\r\n    outfit: \"\",\r\n    food: \"\",\r\n    music: \"\",\r\n    delivery: [],\r\n  });\r\n\r\n  // ------------------------------\r\n  // 1. Start camera\r\n  // ------------------------------\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      if (videoRef.current) videoRef.current.srcObject = stream;\r\n      console.log(\"üì∑ Camera started\");\r\n    } catch (err) {\r\n      console.error(\"‚ùå Camera error:\", err);\r\n      alert(\"Camera access denied. Please allow camera access.\");\r\n    }\r\n  };\r\n\r\n  // ------------------------------\r\n  // 2. Capture frame & send to WebSocket\r\n  // ------------------------------\r\n  const captureFrame = () => {\r\n    if (!videoRef.current || !canvasRef.current || wsRef.current?.readyState !== WebSocket.OPEN) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n    canvas.toBlob((blob) => {\r\n      if (blob && wsRef.current?.readyState === WebSocket.OPEN) {\r\n        console.log(\"üì§ Sending frame, size:\", blob.size);\r\n        wsRef.current.send(blob);\r\n      }\r\n    }, \"image/jpeg\", 0.8);\r\n  };\r\n\r\n  // ------------------------------\r\n  // 3. Adjust FPS dynamically\r\n  // ------------------------------\r\n  const adjustFPS = (emotionChanged) => {\r\n    const newFps = emotionChanged ? 6 : 2;\r\n    if (newFps !== fps) setFps(newFps);\r\n\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    frameIntervalRef.current = setInterval(captureFrame, 1000 / newFps);\r\n    console.log(`‚è± FPS adjusted to: ${newFps}`);\r\n  };\r\n\r\n  // ------------------------------\r\n  // 4. Start analysis\r\n  // ------------------------------\r\n  const startAnalysis = async () => {\r\n    await startCamera();\r\n\r\n    const ws = new WebSocket(WS_URL);\r\n    wsRef.current = ws;\r\n\r\n    ws.onopen = () => {\r\n      console.log(\"‚úÖ WebSocket connected to\", WS_URL);\r\n      setConnectionStatus(\"connected\");\r\n      setIsAnalyzing(true);\r\n\r\n      // Send initial location if available\r\n      if (userLocationRef.current) {\r\n        ws.send(JSON.stringify({ type: \"location\", ...userLocationRef.current }));\r\n      }\r\n\r\n      frameIntervalRef.current = setInterval(captureFrame, 1000 / fps);\r\n    };\r\n\r\n    ws.onmessage = async (event) => {\r\n      try {\r\n        const raw = event.data instanceof Blob ? await event.data.text() : event.data;\r\n        const data = JSON.parse(raw);\r\n\r\n        // Check if it's recommendation message\r\n        const rec = data.recommendation || data.recommendations;\r\n        const emotion = data.dominantEmotion || data.emotion;\r\n\r\n        if (!emotion) return;\r\n\r\n        const emotionChanged = lastEmotionRef.current !== emotion;\r\n        lastEmotionRef.current = emotion;\r\n\r\n        setCurrentEmotion({ emotion, timestamp: new Date().toLocaleTimeString() });\r\n\r\n        setEmotionHistory((prev) => [\r\n          { emotion, timestamp: new Date().toLocaleTimeString() },\r\n          ...prev.slice(0, 9),\r\n        ]);\r\n\r\n        adjustFPS(emotionChanged);\r\n\r\n        if (rec) {\r\n          setRecommendations({\r\n            outfit: rec.outfit || \"\",\r\n            food: rec.food || \"\",\r\n            music: rec.music || \"\",\r\n            delivery: rec.nearbyRestaurants || rec.delivery || [],\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"‚ùå WS parse error:\", err);\r\n      }\r\n    };\r\n\r\n    ws.onerror = (err) => {\r\n      console.error(\"‚ùå WebSocket error:\", err);\r\n      setConnectionStatus(\"error\");\r\n      stopAnalysis();\r\n    };\r\n\r\n    ws.onclose = () => {\r\n      console.log(\"‚ùå WebSocket closed\");\r\n      setConnectionStatus(\"disconnected\");\r\n      setIsAnalyzing(false);\r\n      if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    };\r\n  };\r\n\r\n  // ------------------------------\r\n  // 5. Stop analysis\r\n  // ------------------------------\r\n  const stopAnalysis = () => {\r\n    if (wsRef.current) wsRef.current.close();\r\n    if (frameIntervalRef.current) clearInterval(frameIntervalRef.current);\r\n    setIsAnalyzing(false);\r\n    setConnectionStatus(\"disconnected\");\r\n    console.log(\"üõë Analysis stopped\");\r\n  };\r\n\r\n  // ------------------------------\r\n  // 6. Get user location\r\n  // ------------------------------\r\n  useEffect(() => {\r\n    navigator.geolocation?.getCurrentPosition(\r\n      (pos) => {\r\n        userLocationRef.current = { lat: pos.coords.latitude, lng: pos.coords.longitude };\r\n        console.log(\"üìç User location:\", userLocationRef.current);\r\n      },\r\n      (err) => console.warn(\"‚ùå Location blocked:\", err)\r\n    );\r\n  }, []);\r\n\r\n  // ------------------------------\r\n  // 7. Render UI\r\n  // ------------------------------\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h1>üß† Emotion Driven Dashboard</h1>\r\n      <video ref={videoRef} autoPlay playsInline style={{ width: 400, borderRadius: 8, marginTop: 20 }} />\r\n      <canvas ref={canvasRef} style={{ display: \"none\" }} />\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <button\r\n          onClick={isAnalyzing ? stopAnalysis : startAnalysis}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            fontSize: 16,\r\n            backgroundColor: isAnalyzing ? \"#e53e3e\" : \"#48bb78\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          {isAnalyzing ? \"Stop Analysis\" : \"Start Emotion Analysis\"}\r\n        </button>\r\n        <span style={{ marginLeft: 10 }}>Status: {connectionStatus}</span>\r\n      </div>\r\n\r\n      {currentEmotion && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Current Emotion: {currentEmotion.emotion}</h3>\r\n          <small>{currentEmotion.timestamp}</small>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <h2>AI Recommendations</h2>\r\n        <p><strong>Outfit:</strong> {recommendations.outfit}</p>\r\n        <p><strong>Food:</strong> {recommendations.food}</p>\r\n        <p><strong>Music:</strong> {recommendations.music}</p>\r\n        {recommendations.delivery.length > 0 && (\r\n          <div>\r\n            <strong>Delivery Options:</strong>\r\n            <ul>{recommendations.delivery.map((item, i) => <li key={i}>{item}</li>)}</ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {emotionHistory.length > 0 && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <h3>Emotion History (last 10)</h3>\r\n          <ul>{emotionHistory.map((e, idx) => <li key={idx}>{e.emotion} - {e.timestamp}</li>)}</ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}