{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';// Helper function to safely parse the JSON result from the AI API\nconst parseResult=(jsonString,fallback)=>{try{if(jsonString)return JSON.parse(jsonString);}catch(e){console.warn(\"Could not parse AI JSON result:\",jsonString);// Fallback for when AI returns plain text instead of JSON\nreturn{title:jsonString,url:null};}return{title:fallback,url:null};};export default function Dashboard(){var _recommendations$food,_recommendations$food2,_recommendations$musi,_recommendations$musi2;const[mood,setMood]=useState('');const[recommendations,setRecommendations]=useState(null);const[loading,setLoading]=useState(false);const moods=['Happy','Sad','Anxious','Excited','Tired','Energetic','Calm','Stressed'];const getRecommendations=async()=>{if(!mood){alert('Please select your mood first!');return;}setLoading(true);try{// Get AI advice for outfit (assuming this returns plain text/HTML)\nconst outfitResponse=await axios.post(\"\".concat(API_URL,\"/api/ai/advice\"),{query:\"Suggest an outfit for someone feeling \".concat(mood),mood:mood.toLowerCase(),type:'clothes'});// Get AI advice for food (ASSUMING JSON: { \"title\": \"...\", \"url\": \"...\" })\nconst foodResponse=await axios.post(\"\".concat(API_URL,\"/api/ai/advice\"),{query:\"Suggest a meal for someone feeling \".concat(mood),mood:mood.toLowerCase(),type:'meals'});// Get AI advice for music (ASSUMING JSON: { \"title\": \"...\", \"url\": \"...\" })\nconst musicResponse=await axios.post(\"\".concat(API_URL,\"/api/ai/advice\"),{query:\"Suggest music for someone feeling \".concat(mood),mood:mood.toLowerCase(),type:'activity'});setRecommendations({outfit:outfitResponse.data.result,// Parse the JSON results for food and music to get title/url\nfood:parseResult(foodResponse.data.result,'No food recommendation available'),music:parseResult(musicResponse.data.result,'No music recommendation available')});}catch(error){console.error('Error getting recommendations:',error);alert('Failed to get recommendations. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-gray-800\",children:\"MindMaid Decision Helper\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:\"Struggling with decision paralysis? Tell us your mood and let AI help you decide what to wear, eat, and listen to!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"How are you feeling today?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:moods.map(m=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMood(m),className:\"p-4 rounded-lg border-2 transition-all \".concat(mood===m?'border-yellow-400 bg-yellow-50 text-yellow-700 font-semibold':'border-gray-300 hover:border-yellow-300'),children:m},m))}),/*#__PURE__*/_jsx(\"button\",{onClick:getRecommendations,disabled:loading||!mood,className:\"mt-6 w-full bg-yellow-400 text-white font-semibold px-6 py-3 rounded-md hover:bg-yellow-500 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\",children:loading?'Getting Recommendations...':'Get AI Recommendations'})]}),recommendations&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3 text-gray-800\",children:\"\\uD83D\\uDC54 Outfit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:recommendations.outfit||'No outfit recommendation available'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3 text-gray-800\",children:\"\\uD83C\\uDF7D\\uFE0F Food\"}),(_recommendations$food=recommendations.food)!==null&&_recommendations$food!==void 0&&_recommendations$food.url?/*#__PURE__*/_jsx(\"a\",{href:recommendations.food.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:text-blue-800 font-semibold underline block\",children:recommendations.food.title||'View Food Recommendation'}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:((_recommendations$food2=recommendations.food)===null||_recommendations$food2===void 0?void 0:_recommendations$food2.title)||'No food recommendation available'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3 text-gray-800\",children:\"\\uD83C\\uDFB5 Music\"}),(_recommendations$musi=recommendations.music)!==null&&_recommendations$musi!==void 0&&_recommendations$musi.url?/*#__PURE__*/_jsx(\"a\",{href:recommendations.music.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 hover:text-blue-800 font-semibold underline block\",children:recommendations.music.title||'View Music Recommendation'}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:((_recommendations$musi2=recommendations.music)===null||_recommendations$musi2===void 0?void 0:_recommendations$musi2.title)||'No music recommendation available'})]})]})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","parseResult","jsonString","fallback","JSON","parse","e","console","warn","title","url","Dashboard","_recommendations$food","_recommendations$food2","_recommendations$musi","_recommendations$musi2","mood","setMood","recommendations","setRecommendations","loading","setLoading","moods","getRecommendations","alert","outfitResponse","post","concat","query","toLowerCase","type","foodResponse","musicResponse","outfit","data","result","food","music","error","className","children","map","m","onClick","disabled","href","target","rel"],"sources":["C:/Users/Kashif/Desktop/MindMaidbetaFresh/frontend/src/Component/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\n// Helper function to safely parse the JSON result from the AI API\r\nconst parseResult = (jsonString, fallback) => {\r\n    try {\r\n        if (jsonString) return JSON.parse(jsonString);\r\n    } catch (e) {\r\n        console.warn(\"Could not parse AI JSON result:\", jsonString);\r\n        // Fallback for when AI returns plain text instead of JSON\r\n        return { title: jsonString, url: null }; \r\n    }\r\n    return { title: fallback, url: null };\r\n};\r\n\r\nexport default function Dashboard() {\r\n    const [mood, setMood] = useState('');\r\n    const [recommendations, setRecommendations] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const moods = ['Happy', 'Sad', 'Anxious', 'Excited', 'Tired', 'Energetic', 'Calm', 'Stressed'];\r\n\r\n    const getRecommendations = async () => {\r\n        if (!mood) {\r\n            alert('Please select your mood first!');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            // Get AI advice for outfit (assuming this returns plain text/HTML)\r\n            const outfitResponse = await axios.post(`${API_URL}/api/ai/advice`, {\r\n                query: `Suggest an outfit for someone feeling ${mood}`,\r\n                mood: mood.toLowerCase(),\r\n                type: 'clothes'\r\n            });\r\n\r\n            // Get AI advice for food (ASSUMING JSON: { \"title\": \"...\", \"url\": \"...\" })\r\n            const foodResponse = await axios.post(`${API_URL}/api/ai/advice`, {\r\n                query: `Suggest a meal for someone feeling ${mood}`,\r\n                mood: mood.toLowerCase(),\r\n                type: 'meals'\r\n            });\r\n\r\n            // Get AI advice for music (ASSUMING JSON: { \"title\": \"...\", \"url\": \"...\" })\r\n            const musicResponse = await axios.post(`${API_URL}/api/ai/advice`, {\r\n                query: `Suggest music for someone feeling ${mood}`,\r\n                mood: mood.toLowerCase(),\r\n                type: 'activity'\r\n            });\r\n\r\n            setRecommendations({\r\n                outfit: outfitResponse.data.result,\r\n                // Parse the JSON results for food and music to get title/url\r\n                food: parseResult(foodResponse.data.result, 'No food recommendation available'),\r\n                music: parseResult(musicResponse.data.result, 'No music recommendation available')\r\n            });\r\n        } catch (error) {\r\n            console.error('Error getting recommendations:', error);\r\n            alert('Failed to get recommendations. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h1 className=\"text-4xl font-extrabold text-gray-800\">MindMaid Decision Helper</h1>\r\n            \r\n            <p className=\"text-lg text-gray-600\">\r\n                Struggling with decision paralysis? Tell us your mood and let AI help you decide what to wear, eat, and listen to!\r\n            </p>\r\n\r\n            {/* Mood Selector (Unchanged) */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n                <h2 className=\"text-2xl font-semibold mb-4\">How are you feeling today?</h2>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                    {moods.map((m) => (\r\n                        <button\r\n                            key={m}\r\n                            onClick={() => setMood(m)}\r\n                            className={`p-4 rounded-lg border-2 transition-all ${\r\n                                mood === m\r\n                                    ? 'border-yellow-400 bg-yellow-50 text-yellow-700 font-semibold'\r\n                                    : 'border-gray-300 hover:border-yellow-300'\r\n                            }`}\r\n                        >\r\n                            {m}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                <button\r\n                    onClick={getRecommendations}\r\n                    disabled={loading || !mood}\r\n                    className=\"mt-6 w-full bg-yellow-400 text-white font-semibold px-6 py-3 rounded-md hover:bg-yellow-500 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n                >\r\n                    {loading ? 'Getting Recommendations...' : 'Get AI Recommendations'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Recommendations Display */}\r\n            {recommendations && (\r\n                <div className=\"grid md:grid-cols-3 gap-6\">\r\n                    {/* Outfit (Unchanged - Assumed plain text) */}\r\n                    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n                        <h3 className=\"text-xl font-semibold mb-3 text-gray-800\">üëî Outfit</h3>\r\n                        <p className=\"text-gray-600\">{recommendations.outfit || 'No outfit recommendation available'}</p>\r\n                    </div>\r\n\r\n                    {/* Food (CRITICAL FIX: Using <a> tag) */}\r\n                    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n                        <h3 className=\"text-xl font-semibold mb-3 text-gray-800\">üçΩÔ∏è Food</h3>\r\n                        {recommendations.food?.url ? (\r\n                            <a \r\n                                href={recommendations.food.url} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\" \r\n                                className=\"text-blue-600 hover:text-blue-800 font-semibold underline block\"\r\n                            >\r\n                                {recommendations.food.title || 'View Food Recommendation'}\r\n                            </a>\r\n                        ) : (\r\n                            <p className=\"text-gray-600\">{recommendations.food?.title || 'No food recommendation available'}</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Music (CRITICAL FIX: Using <a> tag) */}\r\n                    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n                        <h3 className=\"text-xl font-semibold mb-3 text-gray-800\">üéµ Music</h3>\r\n                        {recommendations.music?.url ? (\r\n                            <a \r\n                                href={recommendations.music.url} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\" \r\n                                className=\"text-blue-600 hover:text-blue-800 font-semibold underline block\"\r\n                            >\r\n                                {recommendations.music.title || 'View Music Recommendation'}\r\n                            </a>\r\n                        ) : (\r\n                            <p className=\"text-gray-600\">{recommendations.music?.title || 'No music recommendation available'}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}